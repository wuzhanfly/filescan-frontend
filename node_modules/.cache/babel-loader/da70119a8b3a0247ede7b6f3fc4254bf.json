{"remainingRequest":"/home/wuzhanfly/git/filscan-frontend/node_modules/babel-loader/lib/index.js!/home/wuzhanfly/git/filscan-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/wuzhanfly/git/filscan-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wuzhanfly/git/filscan-frontend/src/views/home/components/TotalBoard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/wuzhanfly/git/filscan-frontend/src/views/home/components/TotalBoard.vue","mtime":1612684657988},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvd3V6aGFuZmx5L2dpdC9maWxzY2FuLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvd3V6aGFuZmx5L2dpdC9maWxzY2FuLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0Qm9hcmRJbmZvIGFzIF9nZXRCb2FyZEluZm8gfSBmcm9tICJAL2FwaS9ob21lIjsKaW1wb3J0IHsgbWFwTXV0YXRpb25zIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVG90YWxCb2FyZCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGluZm86IFt7CiAgICAgICAgbGFiZWxLZXk6ICJoZWlnaHQiLAogICAgICAgIGtleTogInRpcHNldF9oZWlnaHQiLAogICAgICAgIGNsYXNzOiAiYmx1ZSIsCiAgICAgICAgdW5pdDogIiIKICAgICAgfSwgewogICAgICAgIGxhYmVsS2V5OiAicmV3YXJkIiwKICAgICAgICBrZXk6ICJibG9ja19yZXdhcmQiLAogICAgICAgIGNsYXNzOiAiYmx1ZSIsCiAgICAgICAgdW5pdDogIkZJTCIKICAgICAgfSwgewogICAgICAgIGxhYmVsS2V5OiAiYXZnTXNnVGlwc2V0IiwKICAgICAgICBrZXk6ICJhdmdfbWVzc2FnZXNfdGlwc2V0IiwKICAgICAgICBjbGFzczogInB1cnBsZSIsCiAgICAgICAgdW5pdDogIiIKICAgICAgfSwgewogICAgICAgIGxhYmVsS2V5OiAiYXZnR2FzIiwKICAgICAgICBrZXk6ICJhdmdfZ2FzX3ByaWNlIiwKICAgICAgICBjbGFzczogInB1cnBsZSIsCiAgICAgICAgdW5pdDogIiIKICAgICAgfSwgewogICAgICAgIGxhYmVsS2V5OiAiYXZnTXNnIiwKICAgICAgICBrZXk6ICJhdmdfbWVzc2FnZV9zaXplIiwKICAgICAgICBjbGFzczogInllbGxvdyIsCiAgICAgICAgdW5pdDogImJ5dGVzIgogICAgICB9LCB7CiAgICAgICAgbGFiZWxLZXk6ICJwbGVkZ2UiLAogICAgICAgIGtleTogInBsZWRnZV9jb2xsYXRlcmFsIiwKICAgICAgICBjbGFzczogInllbGxvdyIsCiAgICAgICAgdW5pdDogIkZJTCIKICAgICAgfV0sCiAgICAgIHRpbWVyOiBudWxsLAogICAgICBsb2FkaW5nOiBmYWxzZQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0Qm9hcmRJbmZvKCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgIF90aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgX3RoaXMuZ2V0Qm9hcmRJbmZvKCk7CiAgICAgICAgICAgICAgfSwgMzAwMDApOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBNdXRhdGlvbnMoWyJzZXRIZWlnaHQiLCAiaW5jcmVhc2VMb2FkQ291bnQiXSkpLCB7fSwgewogICAgZ2V0Qm9hcmRJbmZvOiBmdW5jdGlvbiBnZXRCb2FyZEluZm8oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGluZm87CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfZ2V0Qm9hcmRJbmZvKCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGluZm8gPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICBpbmZvLmF2Z19tZXNzYWdlX3NpemUgPSBwYXJzZUludChpbmZvLmF2Z19tZXNzYWdlX3NpemUpOwogICAgICAgICAgICAgICAgX3RoaXMyLmluZm8gPSBfdGhpczIuaW5mby5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaXRlbSksIHt9LCB7CiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF90aGlzMi5mb3JtYXROdW1iZXIoaXRlbS5rZXkgPT09ICJhdmdfZ2FzX3ByaWNlIiA/IGluZm9baXRlbS5rZXldLnRvRml4ZWQoMikgOiBpbmZvW2l0ZW0ua2V5XSkKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfdGhpczIuc2V0SGVpZ2h0KGluZm8udGlwc2V0X2hlaWdodCk7CgogICAgICAgICAgICAgICAgX3RoaXMyLmluY3JlYXNlTG9hZENvdW50KCk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0Mi50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMCwgMTFdXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0pLAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwogIH0KfTs="},{"version":3,"sources":["TotalBoard.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div\n    class=\"total-board bottom-10\"\n    v-loading=\"loading\"\n    element-loading-background=\"var(--board-bg-color)\"\n  >\n    <div v-for=\"item in info\" :key=\"item.key\" class=\"info-item\">\n      <div>\n        {{ $t(`home.board.${item.labelKey}.label`) }}\n        <el-popover\n          placement=\"bottom-start\"\n          width=\"200\"\n          trigger=\"hover\"\n          :content=\"$t(`home.board.${item.labelKey}.tips`)\"\n          v-if=\"!isMobile\"\n        >\n          <i\n            class=\"el-icon-warning-outline\"\n            slot=\"reference\"\n            style=\"margin-left:3px\"\n          ></i>\n        </el-popover>\n      </div>\n      <div v-show=\"!loading\">{{ `${item.value || \"\"} ${item.unit}` }}</div>\n    </div>\n  </div>\n</template>\n<script>\nimport { getBoardInfo } from \"@/api/home\";\nimport { mapMutations } from \"vuex\";\nexport default {\n  name: \"TotalBoard\",\n  data() {\n    return {\n      info: [\n        {\n          labelKey: \"height\",\n          key: \"tipset_height\",\n          class: \"blue\",\n          unit: \"\"\n        },\n        {\n          labelKey: \"reward\",\n          key: \"block_reward\",\n          class: \"blue\",\n          unit: \"FIL\"\n        },\n        {\n          labelKey: \"avgMsgTipset\",\n          key: \"avg_messages_tipset\",\n          class: \"purple\",\n          unit: \"\"\n        },\n        {\n          labelKey: \"avgGas\",\n          key: \"avg_gas_price\",\n          class: \"purple\",\n          unit: \"\"\n        },\n        {\n          labelKey: \"avgMsg\",\n          key: \"avg_message_size\",\n          class: \"yellow\",\n          unit: \"bytes\"\n        },\n        {\n          labelKey: \"pledge\",\n          key: \"pledge_collateral\",\n          class: \"yellow\",\n          unit: \"FIL\"\n        }\n      ],\n      timer: null,\n      loading: false\n    };\n  },\n  async mounted() {\n    this.loading = true;\n    await this.getBoardInfo();\n    this.loading = false;\n    this.timer = setInterval(() => {\n      this.getBoardInfo();\n    }, 30000);\n  },\n  methods: {\n    ...mapMutations([\"setHeight\", \"increaseLoadCount\"]),\n    async getBoardInfo() {\n      try {\n        const info = await getBoardInfo();\n        this.loading = false;\n        info.avg_message_size = parseInt(info.avg_message_size);\n        this.info = this.info.map(item => {\n          return {\n            ...item,\n            value: this.formatNumber(\n              item.key === \"avg_gas_price\"\n                ? info[item.key].toFixed(2)\n                : info[item.key]\n            )\n          };\n        });\n        this.setHeight(info.tipset_height);\n        this.increaseLoadCount();\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  },\n  beforeDestroy() {\n    clearInterval(this.timer);\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.total-board {\n  display: flex;\n  flex-wrap: wrap;\n  .info-item {\n    //width: 16.66%;\n    border-radius: 8px;\n    box-shadow: 0px 1px 7px 9px rgba(0, 0, 0, 0.03);\n    padding: 15px;\n    flex: 1;\n    margin-right: 10px;\n    background: var(--board-bg-color);\n    &:nth-child(6) {\n      margin-right: 0;\n    }\n    div {\n      height: 30px;\n      line-height: 30px;\n      color: #999;\n      text-align: center;\n      color: var(--total-board-top-color);\n    }\n    div:last-child {\n      font-size: 24px;\n      color: var(--total-board-bottom-color);\n    }\n    div:first-child {\n      margin-bottom: 5px;\n      font-weight: bold;\n      span {\n        position: relative;\n        i {\n          position: absolute;\n          top: 4px;\n          font-size: 12px;\n        }\n      }\n    }\n  }\n}\n@media (max-width: 768px) {\n  .total-board {\n    .info-item {\n      flex: 1;\n      min-width: 45%;\n      margin-bottom: 10px;\n      box-sizing: border-box;\n      margin-right: 0;\n      &:nth-child(2n + 1) {\n        margin-right: 10px;\n      }\n      div {\n        height: 20px;\n        line-height: 20px !important;\n        color: var(--total-board-bottom-color) !important;\n        font-size: 10px;\n        &:first-child {\n          color: var(--total-board-top-color) !important;\n        }\n        &:last-child {\n          font-size: 12px;\n        }\n      }\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/views/home/components"}]}