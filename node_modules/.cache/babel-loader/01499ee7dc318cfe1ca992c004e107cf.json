{"remainingRequest":"/home/wuzhanfly/git/filscan-frontend/node_modules/babel-loader/lib/index.js!/home/wuzhanfly/git/filscan-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/wuzhanfly/git/filscan-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wuzhanfly/git/filscan-frontend/src/components/TimeSelector.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/wuzhanfly/git/filscan-frontend/src/components/TimeSelector.vue","mtime":1612684657984},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGRheWpzIGZyb20gImRheWpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJUaW1lU2VsZWN0b3IiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aW1lczogW3sKICAgICAgICBsYWJlbDogIjI0aCIKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAiMXciCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogIjFtIgogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICIxeSIKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAiYWxsIgogICAgICB9XSwKICAgICAgY3VycmVudEluZGV4OiAwCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIGFjdGl2ZUluZGV4OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMAogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlVGFiQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZVRhYkNsaWNrKHYsIGluZGV4KSB7CiAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gaW5kZXg7CiAgICAgIHZhciB0aW1lX2RpZmYsIHJlcGVhdGVfdGltZSwgdGltZV9zdGFydCwgZm9ybWF0OwogICAgICB2YXIgbm93ID0gZGF5anMoKTsKCiAgICAgIHN3aXRjaCAodikgewogICAgICAgIGNhc2UgIjI0aCI6CiAgICAgICAgICB0aW1lX2RpZmYgPSAzNjAwOwogICAgICAgICAgcmVwZWF0ZV90aW1lID0gMjQ7CiAgICAgICAgICB0aW1lX3N0YXJ0ID0gbm93LnN1YnRyYWN0KDI0LCAiaG91ciIpOwogICAgICAgICAgZm9ybWF0ID0gIk1NTSBEbyBISDptbSI7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiMXciOgogICAgICAgICAgdGltZV9kaWZmID0gMzYwMCAqIDI0OwogICAgICAgICAgcmVwZWF0ZV90aW1lID0gNzsKICAgICAgICAgIHRpbWVfc3RhcnQgPSBub3cuc3VidHJhY3QoNywgImRheSIpOwogICAgICAgICAgZm9ybWF0ID0gIk1NTSBEbyI7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiMW0iOgogICAgICAgICAgdGltZV9kaWZmID0gMzYwMCAqIDI0OwogICAgICAgICAgcmVwZWF0ZV90aW1lID0gMzA7CiAgICAgICAgICB0aW1lX3N0YXJ0ID0gbm93LnN1YnRyYWN0KDMwLCAiZGF5Iik7CiAgICAgICAgICBmb3JtYXQgPSAiTU1NIERvIFlZWVkiOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgIjF5IjoKICAgICAgICAgIHRpbWVfZGlmZiA9IDM2MDAgKiAyNDsKICAgICAgICAgIHJlcGVhdGVfdGltZSA9IDM2NTsKICAgICAgICAgIHRpbWVfc3RhcnQgPSBub3cuc3VidHJhY3QoMSwgInllYXIiKTsKICAgICAgICAgIGZvcm1hdCA9ICJNTU0gRG8gWVlZWSI7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiYWxsIjoKICAgICAgICAgIHRpbWVfZGlmZiA9IDM2MDAgKiAyNDsKICAgICAgICAgIHJlcGVhdGVfdGltZSA9IDM2NTsKICAgICAgICAgIHRpbWVfc3RhcnQgPSAwOwogICAgICAgICAgZm9ybWF0ID0gIk1NTSBEbyBZWVlZIjsKICAgICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICB0aGlzLiRlbWl0KCJ1cGRhdGU6YWN0aXZlSW5kZXgiLCBpbmRleCk7CiAgICAgIHRoaXMuJGVtaXQoInRpbWUtc2VsZWN0IiwgewogICAgICAgIHRpbWVfc3RhcnQ6IHRpbWVfc3RhcnQgPT09IDAgPyAwIDogZGF5anModGltZV9zdGFydCkudW5peCgpLAogICAgICAgIHRpbWVfZGlmZjogdGltZV9kaWZmLAogICAgICAgIHJlcGVhdGVfdGltZTogcmVwZWF0ZV90aW1lLAogICAgICAgIGZvcm1hdDogZm9ybWF0CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuY3VycmVudEluZGV4ID0gdGhpcy5hY3RpdmVJbmRleDsKICB9Cn07"},{"version":3,"sources":["TimeSelector.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA,OAAA,KAAA,MAAA,OAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,CACA;AAAA,QAAA,KAAA,EAAA;AAAA,OADA,EAEA;AAAA,QAAA,KAAA,EAAA;AAAA,OAFA,EAGA;AAAA,QAAA,KAAA,EAAA;AAAA,OAHA,EAIA;AAAA,QAAA,KAAA,EAAA;AAAA,OAJA,EAKA;AAAA,QAAA,KAAA,EAAA;AAAA,OALA,CADA;AAQA,MAAA,YAAA,EAAA;AARA,KAAA;AAUA,GAbA;AAcA,EAAA,KAAA,EAAA;AACA,IAAA,WAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AADA,GAdA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,0BACA,CADA,EACA,KADA,EACA;AACA,WAAA,YAAA,GAAA,KAAA;AACA,UAAA,SAAA,EAAA,YAAA,EAAA,UAAA,EAAA,MAAA;AACA,UAAA,GAAA,GAAA,KAAA,EAAA;;AACA,cAAA,CAAA;AACA,aAAA,KAAA;AACA,UAAA,SAAA,GAAA,IAAA;AACA,UAAA,YAAA,GAAA,EAAA;AACA,UAAA,UAAA,GAAA,GAAA,CAAA,QAAA,CAAA,EAAA,EAAA,MAAA,CAAA;AACA,UAAA,MAAA,GAAA,cAAA;AACA;;AACA,aAAA,IAAA;AACA,UAAA,SAAA,GAAA,OAAA,EAAA;AACA,UAAA,YAAA,GAAA,CAAA;AACA,UAAA,UAAA,GAAA,GAAA,CAAA,QAAA,CAAA,CAAA,EAAA,KAAA,CAAA;AACA,UAAA,MAAA,GAAA,QAAA;AACA;;AACA,aAAA,IAAA;AACA,UAAA,SAAA,GAAA,OAAA,EAAA;AACA,UAAA,YAAA,GAAA,EAAA;AACA,UAAA,UAAA,GAAA,GAAA,CAAA,QAAA,CAAA,EAAA,EAAA,KAAA,CAAA;AACA,UAAA,MAAA,GAAA,aAAA;AACA;;AACA,aAAA,IAAA;AACA,UAAA,SAAA,GAAA,OAAA,EAAA;AACA,UAAA,YAAA,GAAA,GAAA;AACA,UAAA,UAAA,GAAA,GAAA,CAAA,QAAA,CAAA,CAAA,EAAA,MAAA,CAAA;AACA,UAAA,MAAA,GAAA,aAAA;AACA;;AACA,aAAA,KAAA;AACA,UAAA,SAAA,GAAA,OAAA,EAAA;AACA,UAAA,YAAA,GAAA,GAAA;AACA,UAAA,UAAA,GAAA,CAAA;AACA,UAAA,MAAA,GAAA,aAAA;AACA;AA9BA;;AAgCA,WAAA,KAAA,CAAA,oBAAA,EAAA,KAAA;AACA,WAAA,KAAA,CAAA,aAAA,EAAA;AACA,QAAA,UAAA,EAAA,UAAA,KAAA,CAAA,GAAA,CAAA,GAAA,KAAA,CAAA,UAAA,CAAA,CAAA,IAAA,EADA;AAEA,QAAA,SAAA,EAAA,SAFA;AAGA,QAAA,YAAA,EAAA,YAHA;AAIA,QAAA,MAAA,EAAA;AAJA,OAAA;AAMA;AA5CA,GApBA;AAkEA,EAAA,OAlEA,qBAkEA;AACA,SAAA,YAAA,GAAA,KAAA,WAAA;AACA;AApEA,CAAA","sourcesContent":["<template>\n  <div class=\"time-selector\">\n    <slot name=\"left\" class=\"left\"></slot>\n    <div class=\"time-con\">\n      <span\n        v-for=\"(item, index) in times\"\n        :key=\"item.label\"\n        :class=\"{ active: currentIndex === index }\"\n        @click=\"handleTabClick(item.label, index)\"\n        >{{ item.label }}</span\n      >\n    </div>\n  </div>\n</template>\n<script>\nimport dayjs from \"dayjs\";\nexport default {\n  name: \"TimeSelector\",\n  data() {\n    return {\n      times: [\n        { label: \"24h\" },\n        { label: \"1w\" },\n        { label: \"1m\" },\n        { label: \"1y\" },\n        { label: \"all\" }\n      ],\n      currentIndex: 0\n    };\n  },\n  props: {\n    activeIndex: {\n      type: Number,\n      default: 0\n    }\n  },\n  methods: {\n    handleTabClick(v, index) {\n      this.currentIndex = index;\n      let time_diff, repeate_time, time_start, format;\n      const now = dayjs();\n      switch (v) {\n        case \"24h\":\n          time_diff = 3600;\n          repeate_time = 24;\n          time_start = now.subtract(24, \"hour\");\n          format = \"MMM Do HH:mm\";\n          break;\n        case \"1w\":\n          time_diff = 3600 * 24;\n          repeate_time = 7;\n          time_start = now.subtract(7, \"day\");\n          format = \"MMM Do\";\n          break;\n        case \"1m\":\n          time_diff = 3600 * 24;\n          repeate_time = 30;\n          time_start = now.subtract(30, \"day\");\n          format = \"MMM Do YYYY\";\n          break;\n        case \"1y\":\n          time_diff = 3600 * 24;\n          repeate_time = 365;\n          time_start = now.subtract(1, \"year\");\n          format = \"MMM Do YYYY\";\n          break;\n        case \"all\":\n          time_diff = 3600 * 24;\n          repeate_time = 365;\n          time_start = 0;\n          format = \"MMM Do YYYY\";\n          break;\n      }\n      this.$emit(\"update:activeIndex\", index);\n      this.$emit(\"time-select\", {\n        time_start: time_start === 0 ? 0 : dayjs(time_start).unix(),\n        time_diff,\n        repeate_time,\n        format\n      });\n    }\n  },\n  mounted() {\n    this.currentIndex = this.activeIndex;\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.time-selector {\n  display: flex;\n  height: 60px;\n  background: var(--board-bg-color);\n  border-radius: 8px;\n  padding-left: 30px;\n  align-items: center;\n  .time-con {\n    display: flex;\n    margin-left: auto;\n    width: 250px;\n    height: 25px;\n    border: 1px solid #999;\n    align-items: center;\n    margin-right: 20px;\n    border-radius: 5px;\n    span {\n      flex: 1;\n      height: 25px;\n      cursor: pointer;\n      line-height: 25px;\n      text-align: center;\n      border-radius: 5px;\n      color: var(--main-text-color);\n      &.active {\n        background: #0062ff;\n        color: white;\n      }\n    }\n  }\n  @media (max-width: 768px) {\n    display: block;\n    height: auto;\n    padding: 3.3vw;\n    border-radius: 10px;\n    .time-con {\n      margin-left: 0;\n      height: 7.2vw;\n      width: 66.7vw;\n      margin: 0 auto;\n      border-radius: 3.6vw;\n      margin-top: 6vw;\n      span {\n        height: 100%;\n        line-height: 7.2vw;\n        border-radius: 3.6vw;\n      }\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/components"}]}