{"remainingRequest":"/home/wuzhanfly/git/filscan-frontend/node_modules/babel-loader/lib/index.js!/home/wuzhanfly/git/filscan-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/wuzhanfly/git/filscan-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wuzhanfly/git/filscan-frontend/src/components/MessageList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/wuzhanfly/git/filscan-frontend/src/components/MessageList.vue","mtime":1613726343780},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmZyZWV6ZS5qcyI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL2hvbWUvd3V6aGFuZmx5L2dpdC9maWxzY2FuLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL3d1emhhbmZseS9naXQvZmlsc2Nhbi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3d1emhhbmZseS9naXQvZmlsc2Nhbi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGdldE1lc3NhZ2UgYXMgX2dldE1lc3NhZ2UsIGdldE1lc3NhZ2VCeUFkZHJlc3MsIGdldE1lc3NhZ2VNZXRob2RzIGFzIF9nZXRNZXNzYWdlTWV0aG9kcyB9IGZyb20gIkAvYXBpL21lc3NhZ2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk1lc3NhZ2VMaXN0IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIHR5cGUgPSB0aGlzLnR5cGU7CiAgICByZXR1cm4gewogICAgICBtZXRob2Q6IFtdLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgb3B0aW9uOiB7CiAgICAgICAgbWV0aG9kOiAiIiwKICAgICAgICBiZWdpbmRleDogIjAiLAogICAgICAgIGNvdW50OiAiMjUiCiAgICAgIH0sCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICB0b3RhbDogMCwKICAgICAgbWVzc2FnZURhdGE6IFtdLAogICAgICBjb2x1bW5zOiBbewogICAgICAgIGtleTogInR5cGUiLAogICAgICAgIGhpZGVJbk1vYmlsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAiY2lkIiwKICAgICAgICBpc0xpbms6IHRydWUsCiAgICAgICAgdGFyZ2V0OiAibWVzc2FnZS9kZXRhaWwiLAogICAgICAgIGVsbGlwc2lzOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJoZWlnaHQiLAogICAgICAgIGlzTGluazogdHJ1ZSwKICAgICAgICB0YXJnZXQ6ICJ0aXBzZXQiLAogICAgICAgIHBhcmFtS2V5OiAiaGVpZ2h0IgogICAgICB9LCB7CiAgICAgICAga2V5OiAidGltZSIsCiAgICAgICAgaGlkZUluTW9iaWxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJmcm9tIiwKICAgICAgICBpc0xpbms6IHRydWUsCiAgICAgICAgdGFyZ2V0OiAiYWRkcmVzcy9kZXRhaWwiLAogICAgICAgIHBhcmFtS2V5OiAiYWRkcmVzcyIsCiAgICAgICAgZWxsaXBzaXM6IHRydWUsCiAgICAgICAgaXNDb21wb25lbnQ6IHR5cGUgPT09ICJhZGRyZXNzIgogICAgICB9LCB7CiAgICAgICAga2V5OiAidG8iLAogICAgICAgIGlzTGluazogdHJ1ZSwKICAgICAgICB0YXJnZXQ6ICJhZGRyZXNzL2RldGFpbCIsCiAgICAgICAgcGFyYW1LZXk6ICJhZGRyZXNzIiwKICAgICAgICBlbGxpcHNpczogdHJ1ZSwKICAgICAgICBpc0NvbXBvbmVudDogdHlwZSA9PT0gImFkZHJlc3MiCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJ2YWx1ZSIKICAgICAgfSwgLy8gewogICAgICAvLyAgIGtleTogImZlZSIsCiAgICAgIC8vICAgaGlkZUluTW9iaWxlOiB0cnVlLAogICAgICAvLyAgIHVuaXQ6ICJGSUwiCiAgICAgIC8vIH0sCiAgICAgIHsKICAgICAgICBrZXk6ICJjb2RlIiwKICAgICAgICBoaWRlSW5Nb2JpbGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogIm1ldGhvZCIKICAgICAgfV0sCiAgICAgIGxhYmVsczogW10KICAgIH07CiAgfSwKICBwcm9wczogewogICAgd2l0aFR5cGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIGNpZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICIiCiAgICB9LAogICAgdHlwZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICJibG9jayIKICAgIH0sCiAgICBhZGRyZXNzOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIiIKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVNpemVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNpemVDaGFuZ2UodikgewogICAgICB0aGlzLm9wdGlvbi5jb3VudCA9IHY7CiAgICB9LAogICAgaGFuZGxlUGFnZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlUGFnZUNoYW5nZSh2KSB7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSB2OwogICAgICB0aGlzLm9wdGlvbi5iZWdpbmRleCA9ICh2IC0gMSkgKiB0aGlzLm9wdGlvbi5jb3VudDsKICAgIH0sCiAgICBoYW5kbGVNZXRob2RDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZU1ldGhvZENoYW5nZSh2KSB7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxOwogICAgICB0aGlzLm9wdGlvbiA9IHsKICAgICAgICBtZXRob2Q6IHYsCiAgICAgICAgYmVnaW5kZXg6IDAsCiAgICAgICAgY291bnQ6IDI1CiAgICAgIH07CiAgICB9LAogICAgZ2V0TWVzc2FnZTogZnVuY3Rpb24gZ2V0TWVzc2FnZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGgsIGFkZHJlc3NIYXNoLCB0eXBlLCBlbGxpcHNpc0J5TGVuZ3RoLCBkYXRhLCByZXMsIG1lc3NhZ2VEYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGggPSBfdGhpcy4kY3JlYXRlRWxlbWVudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwogICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBhZGRyZXNzSGFzaCA9IF90aGlzLmFkZHJlc3M7CiAgICAgICAgICAgICAgICB0eXBlID0gX3RoaXMudHlwZTsKICAgICAgICAgICAgICAgIGVsbGlwc2lzQnlMZW5ndGggPSBfdGhpcy5lbGxpcHNpc0J5TGVuZ3RoOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpcy5jaWQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMub3B0aW9uLmJsb2NrX2NpZCA9IF90aGlzLmNpZDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkYXRhID0ge307CgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMudHlwZSA9PT0gImJsb2NrIikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICByZXR1cm4gX2dldE1lc3NhZ2UoX3RoaXMub3B0aW9uKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBfdGhpcy5jb2x1bW5zOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgcmV0dXJuIGdldE1lc3NhZ2VCeUFkZHJlc3MoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBfdGhpcy5vcHRpb24pLCB7fSwgewogICAgICAgICAgICAgICAgICBhZGRyZXNzOiBfdGhpcy5hZGRyZXNzLAogICAgICAgICAgICAgICAgICBmcm9tX3RvOiAiIgogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEubXNncyA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgZGF0YS50b3RhbCA9IHJlcy50b3RhbDsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIF90aGlzLnRvdGFsID0gTnVtYmVyKGRhdGEudG90YWwpOwogICAgICAgICAgICAgICAgbWVzc2FnZURhdGEgPSBkYXRhLm1zZ3MubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgIHZhciBjaWQgPSBpdGVtLmNpZCwKICAgICAgICAgICAgICAgICAgICAgIG1zZ2NyZWF0ZSA9IGl0ZW0ubXNnY3JlYXRlLAogICAgICAgICAgICAgICAgICAgICAgbXNnID0gaXRlbS5tc2csCiAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBpdGVtLmhlaWdodCwKICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZF9uYW1lID0gaXRlbS5tZXRob2RfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgIGV4aXRfY29kZSA9IGl0ZW0uZXhpdF9jb2RlOwogICAgICAgICAgICAgICAgICB2YXIgZnJvbSA9IG1zZy5mcm9tLAogICAgICAgICAgICAgICAgICAgICAgdG8gPSBtc2cudG8sCiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG1zZy52YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgIGdhc3ByaWNlID0gbXNnLmdhc3ByaWNlOwogICAgICAgICAgICAgICAgICB2YXIgcmVzID0gewogICAgICAgICAgICAgICAgICAgIGNpZDogY2lkLAogICAgICAgICAgICAgICAgICAgIHRpbWU6IF90aGlzLmZvcm1hdFRpbWUobXNnY3JlYXRlKSwKICAgICAgICAgICAgICAgICAgICBmcm9tOiB7CiAgICAgICAgICAgICAgICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGggPSBhcmd1bWVudHNbMF07CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmcm9tICE9PSBhZGRyZXNzSGFzaCA/IGgoImEiLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgImF0dHJzIjogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgImhyZWYiOiAiLi8jL2FkZHJlc3MvZGV0YWlsP2FkZHJlc3M9Ii5jb25jYXQoZnJvbSkKICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICJzdHlsZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAidmFyKC0tbGluay1jb2xvcikiCiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LCBbZWxsaXBzaXNCeUxlbmd0aChmcm9tLCA2LCB0cnVlKV0pIDogaCgic3BhbiIsIFtlbGxpcHNpc0J5TGVuZ3RoKGZyb20sIDYsIHRydWUpXSk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB0bzogewogICAgICAgICAgICAgICAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoID0gYXJndW1lbnRzWzBdOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG8gIT09IGFkZHJlc3NIYXNoID8gaCgiYSIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAiYXR0cnMiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaHJlZiI6ICIuLyMvYWRkcmVzcy9kZXRhaWw/YWRkcmVzcz0iLmNvbmNhdCh0bykKICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICJzdHlsZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAidmFyKC0tbGluay1jb2xvcikiCiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LCBbZWxsaXBzaXNCeUxlbmd0aCh0bywgNiwgdHJ1ZSldKSA6IGgoInNwYW4iLCBbZWxsaXBzaXNCeUxlbmd0aCh0bywgNiwgdHJ1ZSldKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIC8vIHZhbHVlOiB0aGlzLmZvcm1hdEZpbE51bWJlcih2YWx1ZSksCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLAogICAgICAgICAgICAgICAgICAgIGZlZTogZ2FzcHJpY2UsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogX3RoaXMuYWRkcmVzcyAhPT0gZnJvbSA/ICJpbiIgOiAib3V0IiwKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IG1ldGhvZF9uYW1lLAogICAgICAgICAgICAgICAgICAgIGhlaWdodDogX3RoaXMuZm9ybWF0TnVtYmVyKGhlaWdodCksCiAgICAgICAgICAgICAgICAgICAgY29kZTogZXhpdF9jb2RlCiAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gImJsb2NrIikgewogICAgICAgICAgICAgICAgICAgIHJlcy5mcm9tID0gZnJvbTsKICAgICAgICAgICAgICAgICAgICByZXMudG8gPSB0bzsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlczsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX3RoaXMubWVzc2FnZURhdGEgPSBPYmplY3QuZnJlZXplKG1lc3NhZ2VEYXRhKTsKICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI2OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgMjZdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldE1lc3NhZ2VNZXRob2RzOiBmdW5jdGlvbiBnZXRNZXNzYWdlTWV0aG9kcygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF9nZXRNZXNzYWdlTWV0aG9kcygpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczIubWV0aG9kID0gZGF0YS5tZXRob2QubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGl0ZW0sCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGl0ZW0KICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDc7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBfdGhpczIubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzAsIDddXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIG9wdGlvbjogewogICAgICBkZWVwOiB0cnVlLAogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkgewogICAgICAgIHRoaXMuZ2V0TWVzc2FnZSgpOwogICAgICB9CiAgICB9LAogICAgY2lkOiBmdW5jdGlvbiBjaWQoKSB7CiAgICAgIHRoaXMub3B0aW9uID0gewogICAgICAgIGJlZ2luZGV4OiAwLAogICAgICAgIGNvdW50OiAyNQogICAgICB9OwogICAgfSwKICAgIGFkZHJlc3M6IGZ1bmN0aW9uIGFkZHJlc3MoKSB7CiAgICAgIHRoaXMuZ2V0TWVzc2FnZSgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMubGFiZWxzID0gX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuJHQoImNvbXBvbmVudC5tZXNMaXN0LmxhYmVsIikpOwoKICAgIGlmICghdGhpcy53aXRoVHlwZSkgewogICAgICB0aGlzLmNvbHVtbnMuc2hpZnQoKTsKICAgICAgdGhpcy5sYWJlbHMuc2hpZnQoKTsKICAgIH0KCiAgICB0aGlzLmdldE1lc3NhZ2UoKTsKICAgIHRoaXMuZ2V0TWVzc2FnZU1ldGhvZHMoKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBtYkNvbHVtbnM6IGZ1bmN0aW9uIG1iQ29sdW1ucygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gdGhpcy5jb2x1bW5zLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBpdGVtKSwge30sIHsKICAgICAgICAgIHRpdGxlOiBfdGhpczMubGFiZWxzW2luZGV4XQogICAgICAgIH0pOwogICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gIWl0ZW0uaGlkZUluTW9iaWxlOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["MessageList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div\n    class=\"message-list\"\n    v-loading=\"loading\"\n    element-loading-background=\"var(--board-bg-color)\"\n  >\n    <div class=\"total-number border-bottom\" slot=\"header\">\n      <span\n        v-html=\"$t('component.mesList.total', { total: formatNumber(total) })\"\n      ></span>\n      <el-select\n        v-model=\"option.method\"\n        @change=\"handleMethodChange\"\n        :placeholder=\"$t('component.mesList.placeholder')\"\n      >\n        <el-option label=\"All Method\" value=\"\" />\n        <el-option\n          v-for=\"item in method\"\n          :key=\"item.label\"\n          :label=\"item.label\"\n          :value=\"item.value\"\n        ></el-option>\n      </el-select>\n    </div>\n    <div class=\"table-con\" v-if=\"!isMobile\">\n      <base-table\n        :dataSource=\"messageData\"\n        :columns=\"columns\"\n        showPagination\n        :total=\"total\"\n        @size-change=\"handleSizeChange\"\n        @page-change=\"handlePageChange\"\n        :labels=\"labels\"\n        :currentPage=\"currentPage\"\n      ></base-table>\n    </div>\n    <mb-board\n      v-for=\"(item, index) in messageData\"\n      :key=\"item.cid + index\"\n      :dataSource=\"item\"\n      :columns=\"mbColumns\"\n      v-else\n    />\n    <mb-page v-if=\"isMobile\" @page-change=\"handlePageChange\" :total=\"total\" />\n  </div>\n</template>\n<script>\nimport {\n  getMessage,\n  getMessageByAddress,\n  getMessageMethods\n} from \"@/api/message\";\nexport default {\n  name: \"MessageList\",\n  data() {\n    const type = this.type;\n    return {\n      method: [],\n      loading: false,\n      option: {\n        method: \"\",\n        begindex: \"0\",\n        count: \"25\"\n      },\n      currentPage: 1,\n      total: 0,\n      messageData: [],\n      columns: [\n        {\n          key: \"type\",\n          hideInMobile: true\n        },\n        {\n          key: \"cid\",\n          isLink: true,\n          target: \"message/detail\",\n          ellipsis: true\n        },\n        {\n          key: \"height\",\n          isLink: true,\n          target: \"tipset\",\n          paramKey: \"height\"\n        },\n        {\n          key: \"time\",\n          hideInMobile: true\n        },\n        {\n          key: \"from\",\n          isLink: true,\n          target: \"address/detail\",\n          paramKey: \"address\",\n          ellipsis: true,\n          isComponent: type === \"address\"\n        },\n        {\n          key: \"to\",\n          isLink: true,\n          target: \"address/detail\",\n          paramKey: \"address\",\n          ellipsis: true,\n          isComponent: type === \"address\"\n        },\n        {\n          key: \"value\"\n        },\n        // {\n        //   key: \"fee\",\n        //   hideInMobile: true,\n        //   unit: \"FIL\"\n        // },\n        {\n          key: \"code\",\n          hideInMobile: true\n        },\n        {\n          key: \"method\"\n        }\n      ],\n      labels: []\n    };\n  },\n  props: {\n    withType: {\n      type: Boolean,\n      default: true\n    },\n    cid: {\n      type: String,\n      default: \"\"\n    },\n    type: {\n      type: String,\n      default: \"block\"\n    },\n    address: {\n      type: String,\n      default: \"\"\n    }\n  },\n  methods: {\n    handleSizeChange(v) {\n      this.option.count = v;\n    },\n    handlePageChange(v) {\n      this.currentPage = v;\n      this.option.begindex = (v - 1) * this.option.count;\n    },\n    handleMethodChange(v) {\n      this.currentPage = 1;\n      this.option = {\n        method: v,\n        begindex: 0,\n        count: 25\n      };\n    },\n    async getMessage() {\n      try {\n        this.loading = true;\n        const addressHash = this.address;\n        const type = this.type;\n        const ellipsisByLength = this.ellipsisByLength;\n        if (this.cid) {\n          this.option.block_cid = this.cid;\n        }\n        let data = {};\n        if (this.type === \"block\") {\n          data = await getMessage(this.option);\n        } else {\n          this.columns;\n          const res = await getMessageByAddress({\n            ...this.option,\n            address: this.address,\n            from_to: \"\"\n          });\n          data.msgs = res.data;\n          data.total = res.total;\n        }\n        this.total = Number(data.total);\n        const messageData = data.msgs.map(item => {\n          const { cid, msgcreate, msg, height, method_name, exit_code } = item;\n          const { from, to, value, gasprice } = msg;\n          let res = {\n            cid: cid,\n            time: this.formatTime(msgcreate),\n            from: {\n              render() {\n                return from !== addressHash ? (\n                  <a\n                    href={`./#/address/detail?address=${from}`}\n                    style={{ color: \"var(--link-color)\" }}\n                  >\n                    {ellipsisByLength(from, 6, true)}\n                  </a>\n                ) : (\n                  <span>{ellipsisByLength(from, 6, true)}</span>\n                );\n              }\n            },\n            to: {\n              render() {\n                return to !== addressHash ? (\n                  <a\n                    href={`./#/address/detail?address=${to}`}\n                    style={{ color: \"var(--link-color)\" }}\n                  >\n                    {ellipsisByLength(to, 6, true)}\n                  </a>\n                ) : (\n                  <span>{ellipsisByLength(to, 6, true)}</span>\n                );\n              }\n            },\n            // value: this.formatFilNumber(value),\n            value,\n          \n            fee: gasprice,\n            type: this.address !== from ? \"in\" : \"out\",\n            method: method_name,\n            height: this.formatNumber(height),\n            code: exit_code\n          };\n          if (type === \"block\") {\n            res.from = from;\n            res.to = to;\n          }\n          return res;\n        });\n        this.messageData = Object.freeze(messageData);\n        this.loading = false;\n      } catch (e) {\n        this.loading = false;\n      }\n    },\n    async getMessageMethods() {\n      try {\n        let data = await getMessageMethods();\n        this.method = data.method.map(item => {\n          return {\n            value: item,\n            label: item\n          };\n        });\n      } catch (e) {\n        this.loading = false;\n      }\n    }\n  },\n  watch: {\n    option: {\n      deep: true,\n      handler() {\n        this.getMessage();\n      }\n    },\n    cid() {\n      this.option = {\n        begindex: 0,\n        count: 25\n      };\n    },\n    address() {\n      this.getMessage();\n    }\n  },\n  mounted() {\n    this.labels = [...this.$t(\"component.mesList.label\")];\n    if (!this.withType) {\n      this.columns.shift();\n      this.labels.shift();\n    }\n    this.getMessage();\n    this.getMessageMethods();\n  },\n  computed: {\n    mbColumns() {\n      return this.columns\n        .map((item, index) => {\n          return {\n            ...item,\n            title: this.labels[index]\n          };\n        })\n        .filter(item => {\n          return !item.hideInMobile;\n        });\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.message-list {\n  .total-number {\n    height: 80px;\n    align-items: center;\n    padding: 0 100px;\n    display: flex;\n    background: var(--board-bg-color);\n    color: var(--main-text-color);\n    & ::v-deep > span {\n      margin-right: auto;\n      i {\n        color: var(--link-color);\n        font-size: 22px;\n      }\n    }\n    .el-dropdown-link {\n      color: white;\n    }\n  }\n  @media (max-width: 768px) {\n    .total-number {\n      height: 30px;\n      margin-bottom: 10px;\n      & ::v-deep .el-select input {\n        height: 20px;\n        font-size: 12px !important;\n        width: 100px;\n      }\n      & ::v-deep .el-input__suffix {\n        i {\n          line-height: 20px;\n          padding-left: 5px;\n          &.is-reverse {\n            padding-right: 10px;\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n<style lang=\"scss\">\n@media (max-width: 768px) {\n  .el-select-dropdown {\n    z-index: 10000 !important;\n    .el-select-dropdown__wrap {\n      max-height: 160px !important;\n    }\n    li {\n      height: 20px !important;\n      line-height: 20px !important;\n      font-size: 12px;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/components"}]}