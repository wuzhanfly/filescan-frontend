{"remainingRequest":"/home/wuzhanfly/git/filscan-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wuzhanfly/git/filscan-frontend/src/views/header/components/Switch.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/wuzhanfly/git/filscan-frontend/src/views/header/components/Switch.vue","mtime":1616222474752},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KCmltcG9ydCB7IG1hcE11dGF0aW9ucyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlRoZW1lU3dpdGNoIiwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBNdXRhdGlvbnMoWyJzZXRUaGVtZSJdKSwKICAgIGhhbmRsZVRoZW1lQ2hhbmdlKCkgewogICAgICBjb25zdCB0aGVtZSA9IHRoaXMudGhlbWUgPT09ICJsaWdodCIgPyAiZGFyayIgOiAibGlnaHQiOwogICAgICB0aGlzLnNldFRoZW1lKHRoZW1lKTsKICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNldEF0dHJpYnV0ZSgidGhlbWUiLCB0aGVtZSk7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJmaWxzY2FuVGhlbWUiLCB0aGVtZSk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgaWNvbkNsYXNzKCkgewogICAgICByZXR1cm4gdGhpcy50aGVtZSA9PT0gImRhcmsiID8gImVsLWljb24tc3VubnkiIDogImVsLWljb24tbW9vbiI7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJmaWxzY2FuVGhlbWUiKSkgewogICAgICBjb25zdCB0aGVtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJmaWxzY2FuVGhlbWUiKTsKICAgICAgdGhpcy5zZXRUaGVtZSh0aGVtZSk7CiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoInRoZW1lIiwgdGhlbWUpOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["Switch.vue"],"names":[],"mappings":";;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Switch.vue","sourceRoot":"src/views/header/components","sourcesContent":["<template>\n  <span :class=\"[iconClass, 'theme-switch']\" @click=\"handleThemeChange\"></span>\n</template>\n<script>\nimport { mapMutations } from \"vuex\";\nexport default {\n  name: \"ThemeSwitch\",\n  methods: {\n    ...mapMutations([\"setTheme\"]),\n    handleThemeChange() {\n      const theme = this.theme === \"light\" ? \"dark\" : \"light\";\n      this.setTheme(theme);\n      document.documentElement.setAttribute(\"theme\", theme);\n      localStorage.setItem(\"filscanTheme\", theme);\n    }\n  },\n  computed: {\n    iconClass() {\n      return this.theme === \"dark\" ? \"el-icon-sunny\" : \"el-icon-moon\";\n    }\n  },\n  mounted() {\n    if (localStorage.getItem(\"filscanTheme\")) {\n      const theme = localStorage.getItem(\"filscanTheme\");\n      this.setTheme(theme);\n      document.documentElement.setAttribute(\"theme\", theme);\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.theme-switch {\n  font-size: 30px;\n  color: var(--main-text-color);\n  cursor: pointer;\n  @media (max-width: 768px) {\n    font-size: 20px;\n    margin-left: 10px;\n  }\n}\n</style>\n"]}]}