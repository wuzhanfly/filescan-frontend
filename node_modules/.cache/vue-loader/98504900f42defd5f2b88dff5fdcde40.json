{"remainingRequest":"/home/wuzhanfly/git/filscan-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wuzhanfly/git/filscan-frontend/src/views/home/components/TotalBoard.vue?vue&type=style&index=0&id=106029a5&lang=scss&scoped=true&","dependencies":[{"path":"/home/wuzhanfly/git/filscan-frontend/src/views/home/components/TotalBoard.vue","mtime":1612684657988},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnRvdGFsLWJvYXJkIHsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtd3JhcDogd3JhcDsKICAuaW5mby1pdGVtIHsKICAgIC8vd2lkdGg6IDE2LjY2JTsKICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgIGJveC1zaGFkb3c6IDBweCAxcHggN3B4IDlweCByZ2JhKDAsIDAsIDAsIDAuMDMpOwogICAgcGFkZGluZzogMTVweDsKICAgIGZsZXg6IDE7CiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7CiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1ib2FyZC1iZy1jb2xvcik7CiAgICAmOm50aC1jaGlsZCg2KSB7CiAgICAgIG1hcmdpbi1yaWdodDogMDsKICAgIH0KICAgIGRpdiB7CiAgICAgIGhlaWdodDogMzBweDsKICAgICAgbGluZS1oZWlnaHQ6IDMwcHg7CiAgICAgIGNvbG9yOiAjOTk5OwogICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgIGNvbG9yOiB2YXIoLS10b3RhbC1ib2FyZC10b3AtY29sb3IpOwogICAgfQogICAgZGl2Omxhc3QtY2hpbGQgewogICAgICBmb250LXNpemU6IDI0cHg7CiAgICAgIGNvbG9yOiB2YXIoLS10b3RhbC1ib2FyZC1ib3R0b20tY29sb3IpOwogICAgfQogICAgZGl2OmZpcnN0LWNoaWxkIHsKICAgICAgbWFyZ2luLWJvdHRvbTogNXB4OwogICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgc3BhbiB7CiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgIGkgewogICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgdG9wOiA0cHg7CiAgICAgICAgICBmb250LXNpemU6IDEycHg7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9CkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkgewogIC50b3RhbC1ib2FyZCB7CiAgICAuaW5mby1pdGVtIHsKICAgICAgZmxleDogMTsKICAgICAgbWluLXdpZHRoOiA0NSU7CiAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICAgIG1hcmdpbi1yaWdodDogMDsKICAgICAgJjpudGgtY2hpbGQoMm4gKyAxKSB7CiAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMHB4OwogICAgICB9CiAgICAgIGRpdiB7CiAgICAgICAgaGVpZ2h0OiAyMHB4OwogICAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4ICFpbXBvcnRhbnQ7CiAgICAgICAgY29sb3I6IHZhcigtLXRvdGFsLWJvYXJkLWJvdHRvbS1jb2xvcikgIWltcG9ydGFudDsKICAgICAgICBmb250LXNpemU6IDEwcHg7CiAgICAgICAgJjpmaXJzdC1jaGlsZCB7CiAgICAgICAgICBjb2xvcjogdmFyKC0tdG90YWwtYm9hcmQtdG9wLWNvbG9yKSAhaW1wb3J0YW50OwogICAgICAgIH0KICAgICAgICAmOmxhc3QtY2hpbGQgewogICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["TotalBoard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TotalBoard.vue","sourceRoot":"src/views/home/components","sourcesContent":["<template>\n  <div\n    class=\"total-board bottom-10\"\n    v-loading=\"loading\"\n    element-loading-background=\"var(--board-bg-color)\"\n  >\n    <div v-for=\"item in info\" :key=\"item.key\" class=\"info-item\">\n      <div>\n        {{ $t(`home.board.${item.labelKey}.label`) }}\n        <el-popover\n          placement=\"bottom-start\"\n          width=\"200\"\n          trigger=\"hover\"\n          :content=\"$t(`home.board.${item.labelKey}.tips`)\"\n          v-if=\"!isMobile\"\n        >\n          <i\n            class=\"el-icon-warning-outline\"\n            slot=\"reference\"\n            style=\"margin-left:3px\"\n          ></i>\n        </el-popover>\n      </div>\n      <div v-show=\"!loading\">{{ `${item.value || \"\"} ${item.unit}` }}</div>\n    </div>\n  </div>\n</template>\n<script>\nimport { getBoardInfo } from \"@/api/home\";\nimport { mapMutations } from \"vuex\";\nexport default {\n  name: \"TotalBoard\",\n  data() {\n    return {\n      info: [\n        {\n          labelKey: \"height\",\n          key: \"tipset_height\",\n          class: \"blue\",\n          unit: \"\"\n        },\n        {\n          labelKey: \"reward\",\n          key: \"block_reward\",\n          class: \"blue\",\n          unit: \"FIL\"\n        },\n        {\n          labelKey: \"avgMsgTipset\",\n          key: \"avg_messages_tipset\",\n          class: \"purple\",\n          unit: \"\"\n        },\n        {\n          labelKey: \"avgGas\",\n          key: \"avg_gas_price\",\n          class: \"purple\",\n          unit: \"\"\n        },\n        {\n          labelKey: \"avgMsg\",\n          key: \"avg_message_size\",\n          class: \"yellow\",\n          unit: \"bytes\"\n        },\n        {\n          labelKey: \"pledge\",\n          key: \"pledge_collateral\",\n          class: \"yellow\",\n          unit: \"FIL\"\n        }\n      ],\n      timer: null,\n      loading: false\n    };\n  },\n  async mounted() {\n    this.loading = true;\n    await this.getBoardInfo();\n    this.loading = false;\n    this.timer = setInterval(() => {\n      this.getBoardInfo();\n    }, 30000);\n  },\n  methods: {\n    ...mapMutations([\"setHeight\", \"increaseLoadCount\"]),\n    async getBoardInfo() {\n      try {\n        const info = await getBoardInfo();\n        this.loading = false;\n        info.avg_message_size = parseInt(info.avg_message_size);\n        this.info = this.info.map(item => {\n          return {\n            ...item,\n            value: this.formatNumber(\n              item.key === \"avg_gas_price\"\n                ? info[item.key].toFixed(2)\n                : info[item.key]\n            )\n          };\n        });\n        this.setHeight(info.tipset_height);\n        this.increaseLoadCount();\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  },\n  beforeDestroy() {\n    clearInterval(this.timer);\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.total-board {\n  display: flex;\n  flex-wrap: wrap;\n  .info-item {\n    //width: 16.66%;\n    border-radius: 8px;\n    box-shadow: 0px 1px 7px 9px rgba(0, 0, 0, 0.03);\n    padding: 15px;\n    flex: 1;\n    margin-right: 10px;\n    background: var(--board-bg-color);\n    &:nth-child(6) {\n      margin-right: 0;\n    }\n    div {\n      height: 30px;\n      line-height: 30px;\n      color: #999;\n      text-align: center;\n      color: var(--total-board-top-color);\n    }\n    div:last-child {\n      font-size: 24px;\n      color: var(--total-board-bottom-color);\n    }\n    div:first-child {\n      margin-bottom: 5px;\n      font-weight: bold;\n      span {\n        position: relative;\n        i {\n          position: absolute;\n          top: 4px;\n          font-size: 12px;\n        }\n      }\n    }\n  }\n}\n@media (max-width: 768px) {\n  .total-board {\n    .info-item {\n      flex: 1;\n      min-width: 45%;\n      margin-bottom: 10px;\n      box-sizing: border-box;\n      margin-right: 0;\n      &:nth-child(2n + 1) {\n        margin-right: 10px;\n      }\n      div {\n        height: 20px;\n        line-height: 20px !important;\n        color: var(--total-board-bottom-color) !important;\n        font-size: 10px;\n        &:first-child {\n          color: var(--total-board-top-color) !important;\n        }\n        &:last-child {\n          font-size: 12px;\n        }\n      }\n    }\n  }\n}\n</style>\n"]}]}