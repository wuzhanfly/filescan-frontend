{"remainingRequest":"/home/wuzhanfly/git/filscan-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wuzhanfly/git/filscan-frontend/src/components/TimeSelector.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/wuzhanfly/git/filscan-frontend/src/components/TimeSelector.vue","mtime":1612684657984},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkYXlqcyBmcm9tICJkYXlqcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVGltZVNlbGVjdG9yIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGltZXM6IFsKICAgICAgICB7IGxhYmVsOiAiMjRoIiB9LAogICAgICAgIHsgbGFiZWw6ICIxdyIgfSwKICAgICAgICB7IGxhYmVsOiAiMW0iIH0sCiAgICAgICAgeyBsYWJlbDogIjF5IiB9LAogICAgICAgIHsgbGFiZWw6ICJhbGwiIH0KICAgICAgXSwKICAgICAgY3VycmVudEluZGV4OiAwCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIGFjdGl2ZUluZGV4OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMAogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlVGFiQ2xpY2sodiwgaW5kZXgpIHsKICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSBpbmRleDsKICAgICAgbGV0IHRpbWVfZGlmZiwgcmVwZWF0ZV90aW1lLCB0aW1lX3N0YXJ0LCBmb3JtYXQ7CiAgICAgIGNvbnN0IG5vdyA9IGRheWpzKCk7CiAgICAgIHN3aXRjaCAodikgewogICAgICAgIGNhc2UgIjI0aCI6CiAgICAgICAgICB0aW1lX2RpZmYgPSAzNjAwOwogICAgICAgICAgcmVwZWF0ZV90aW1lID0gMjQ7CiAgICAgICAgICB0aW1lX3N0YXJ0ID0gbm93LnN1YnRyYWN0KDI0LCAiaG91ciIpOwogICAgICAgICAgZm9ybWF0ID0gIk1NTSBEbyBISDptbSI7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICIxdyI6CiAgICAgICAgICB0aW1lX2RpZmYgPSAzNjAwICogMjQ7CiAgICAgICAgICByZXBlYXRlX3RpbWUgPSA3OwogICAgICAgICAgdGltZV9zdGFydCA9IG5vdy5zdWJ0cmFjdCg3LCAiZGF5Iik7CiAgICAgICAgICBmb3JtYXQgPSAiTU1NIERvIjsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgIjFtIjoKICAgICAgICAgIHRpbWVfZGlmZiA9IDM2MDAgKiAyNDsKICAgICAgICAgIHJlcGVhdGVfdGltZSA9IDMwOwogICAgICAgICAgdGltZV9zdGFydCA9IG5vdy5zdWJ0cmFjdCgzMCwgImRheSIpOwogICAgICAgICAgZm9ybWF0ID0gIk1NTSBEbyBZWVlZIjsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgIjF5IjoKICAgICAgICAgIHRpbWVfZGlmZiA9IDM2MDAgKiAyNDsKICAgICAgICAgIHJlcGVhdGVfdGltZSA9IDM2NTsKICAgICAgICAgIHRpbWVfc3RhcnQgPSBub3cuc3VidHJhY3QoMSwgInllYXIiKTsKICAgICAgICAgIGZvcm1hdCA9ICJNTU0gRG8gWVlZWSI7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJhbGwiOgogICAgICAgICAgdGltZV9kaWZmID0gMzYwMCAqIDI0OwogICAgICAgICAgcmVwZWF0ZV90aW1lID0gMzY1OwogICAgICAgICAgdGltZV9zdGFydCA9IDA7CiAgICAgICAgICBmb3JtYXQgPSAiTU1NIERvIFlZWVkiOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgdGhpcy4kZW1pdCgidXBkYXRlOmFjdGl2ZUluZGV4IiwgaW5kZXgpOwogICAgICB0aGlzLiRlbWl0KCJ0aW1lLXNlbGVjdCIsIHsKICAgICAgICB0aW1lX3N0YXJ0OiB0aW1lX3N0YXJ0ID09PSAwID8gMCA6IGRheWpzKHRpbWVfc3RhcnQpLnVuaXgoKSwKICAgICAgICB0aW1lX2RpZmYsCiAgICAgICAgcmVwZWF0ZV90aW1lLAogICAgICAgIGZvcm1hdAogICAgICB9KTsKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmN1cnJlbnRJbmRleCA9IHRoaXMuYWN0aXZlSW5kZXg7CiAgfQp9Owo="},{"version":3,"sources":["TimeSelector.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TimeSelector.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"time-selector\">\n    <slot name=\"left\" class=\"left\"></slot>\n    <div class=\"time-con\">\n      <span\n        v-for=\"(item, index) in times\"\n        :key=\"item.label\"\n        :class=\"{ active: currentIndex === index }\"\n        @click=\"handleTabClick(item.label, index)\"\n        >{{ item.label }}</span\n      >\n    </div>\n  </div>\n</template>\n<script>\nimport dayjs from \"dayjs\";\nexport default {\n  name: \"TimeSelector\",\n  data() {\n    return {\n      times: [\n        { label: \"24h\" },\n        { label: \"1w\" },\n        { label: \"1m\" },\n        { label: \"1y\" },\n        { label: \"all\" }\n      ],\n      currentIndex: 0\n    };\n  },\n  props: {\n    activeIndex: {\n      type: Number,\n      default: 0\n    }\n  },\n  methods: {\n    handleTabClick(v, index) {\n      this.currentIndex = index;\n      let time_diff, repeate_time, time_start, format;\n      const now = dayjs();\n      switch (v) {\n        case \"24h\":\n          time_diff = 3600;\n          repeate_time = 24;\n          time_start = now.subtract(24, \"hour\");\n          format = \"MMM Do HH:mm\";\n          break;\n        case \"1w\":\n          time_diff = 3600 * 24;\n          repeate_time = 7;\n          time_start = now.subtract(7, \"day\");\n          format = \"MMM Do\";\n          break;\n        case \"1m\":\n          time_diff = 3600 * 24;\n          repeate_time = 30;\n          time_start = now.subtract(30, \"day\");\n          format = \"MMM Do YYYY\";\n          break;\n        case \"1y\":\n          time_diff = 3600 * 24;\n          repeate_time = 365;\n          time_start = now.subtract(1, \"year\");\n          format = \"MMM Do YYYY\";\n          break;\n        case \"all\":\n          time_diff = 3600 * 24;\n          repeate_time = 365;\n          time_start = 0;\n          format = \"MMM Do YYYY\";\n          break;\n      }\n      this.$emit(\"update:activeIndex\", index);\n      this.$emit(\"time-select\", {\n        time_start: time_start === 0 ? 0 : dayjs(time_start).unix(),\n        time_diff,\n        repeate_time,\n        format\n      });\n    }\n  },\n  mounted() {\n    this.currentIndex = this.activeIndex;\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.time-selector {\n  display: flex;\n  height: 60px;\n  background: var(--board-bg-color);\n  border-radius: 8px;\n  padding-left: 30px;\n  align-items: center;\n  .time-con {\n    display: flex;\n    margin-left: auto;\n    width: 250px;\n    height: 25px;\n    border: 1px solid #999;\n    align-items: center;\n    margin-right: 20px;\n    border-radius: 5px;\n    span {\n      flex: 1;\n      height: 25px;\n      cursor: pointer;\n      line-height: 25px;\n      text-align: center;\n      border-radius: 5px;\n      color: var(--main-text-color);\n      &.active {\n        background: #0062ff;\n        color: white;\n      }\n    }\n  }\n  @media (max-width: 768px) {\n    display: block;\n    height: auto;\n    padding: 3.3vw;\n    border-radius: 10px;\n    .time-con {\n      margin-left: 0;\n      height: 7.2vw;\n      width: 66.7vw;\n      margin: 0 auto;\n      border-radius: 3.6vw;\n      margin-top: 6vw;\n      span {\n        height: 100%;\n        line-height: 7.2vw;\n        border-radius: 3.6vw;\n      }\n    }\n  }\n}\n</style>\n"]}]}