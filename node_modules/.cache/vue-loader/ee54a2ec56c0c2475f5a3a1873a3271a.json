{"remainingRequest":"/home/wuzhanfly/git/filscan-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wuzhanfly/git/filscan-frontend/src/views/address/Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/wuzhanfly/git/filscan-frontend/src/views/address/Detail.vue","mtime":1612684657988},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldEFjdG9yQnlJZCB9IGZyb20gIkAvYXBpL2FjY291bnQiOwppbXBvcnQgbWl4aW4gZnJvbSAiLi9taXhpbiI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQWRkcmVzc0RldGFpbCIsCiAgbWl4aW5zOiBbbWl4aW5dLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93TWVzc2FnZTogdHJ1ZSwKICAgICAgaXNNaW5lcjogZmFsc2UsCiAgICAgIGlzT3duZXI6IGZhbHNlLAogICAgICBtZXNzYWdlRGF0YTogW10sCiAgICAgIGFkZHJlc3M6ICIiLAogICAgICB3b3JrZXJzOiBbXSwKICAgICAgZGF0YUxpc3Q6IFsKICAgICAgICB7CiAgICAgICAgICBrZXk6ICJhZGRyZXNzIgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAga2V5OiAidHlwZSIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGtleTogImJhbGFuY2UiLAogICAgICAgICAgdW5pdDogIkZJTCIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGtleTogImNvZGUiCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBrZXk6ICJub25jZSIKICAgICAgICB9CiAgICAgIF0sCiAgICAgIGFjY291bnRMaXN0OiBbCiAgICAgICAgewogICAgICAgICAga2V5OiAib3duZXJfYWRkcmVzcyIsCiAgICAgICAgICBpc0xpbms6IHRydWUsCiAgICAgICAgICB0YXJnZXQ6ICJhZGRyZXNzL2RldGFpbCIsCiAgICAgICAgICBwYXJhbUtleTogImFkZHJlc3MiCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBrZXk6ICJwZWVyX2lkIiwKICAgICAgICAgIGlzTGluazogdHJ1ZSwKICAgICAgICAgIHRhcmdldDogInN0YXRzL3BlZXIiCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBrZXk6ICJwb3dlciIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGtleTogInNlY3Rvcl9zaXplIiwKICAgICAgICAgIHVuaXQ6ICJieXRlcyIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGtleTogInNlY3Rvcl9udW0iCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBrZXk6ICJwcm92aW5nX3NlY3Rvcl9udW0iCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBrZXk6ICJmYXVsdF9udW0iCiAgICAgICAgfQogICAgICBdCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgICIkcm91dGUucXVlcnkuYWRkcmVzcyI6IHsKICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICBoYW5kbGVyKHYpIHsKICAgICAgICBpZiAoIXYpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdGhpcy5hZGRyZXNzID0gW3ZdOwogICAgICAgIHRoaXMuZ2V0QWRkcmVzc0luZm8odik7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGdldEFkZHJlc3NJbmZvKGEpIHsKICAgICAgdHJ5IHsKICAgICAgICBsZXQgcmVzID0gYXdhaXQgZ2V0QWN0b3JCeUlkKHsKICAgICAgICAgIGFjdG9yX2lkOiBhCiAgICAgICAgfSk7CiAgICAgICAgY29uc3QgZGV0YWlsID0gdGhpcy5wYXJzZUFkZHJlc3MocmVzLmRhdGEpOwogICAgICAgIHRoaXMuZGF0YUxpc3QgPSB0aGlzLmRhdGFMaXN0Lm1hcChpdGVtID0+IHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIC4uLml0ZW0sCiAgICAgICAgICAgIHZhbHVlOiBkZXRhaWxbaXRlbS5rZXldCiAgICAgICAgICB9OwogICAgICAgIH0pOwogICAgICAgIHRoaXMud29ya2VycyA9IHJlcy53b3JrX2xpc3Q7CiAgICAgICAgaWYgKHJlcy5kYXRhLmlzX21pbmVyICYmIHJlcy5taW5lci5vd25lcl9hZGRyZXNzICE9ICIiKSB7CiAgICAgICAgICB0aGlzLmlzTWluZXIgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmlzTWluZXIgPSBmYWxzZTsKICAgICAgICB9CiAgICAgICAgaWYgKHJlcy53b3JrX2xpc3QubGVuZ3RoKSB7CiAgICAgICAgICB0aGlzLmFkZHJlc3MgPSByZXMud29ya19saXN0OwogICAgICAgIH0KICAgICAgICB0aGlzLmFjY291bnRMaXN0ID0gdGhpcy5hY2NvdW50TGlzdC5tYXAoaXRlbSA9PiB7CiAgICAgICAgICBsZXQgbGlua0xpc3Q7CiAgICAgICAgICBjb25zdCBvcmlnaW5WYWx1ZSA9IHJlcy5taW5lcltpdGVtLmtleV07CiAgICAgICAgICBpZiAoaXRlbS5rZXkgPT09ICJvd25lcl9hZGRyZXNzIiB8fCBpdGVtLmtleSA9PT0gInBlZXJfaWQiKSB7CiAgICAgICAgICAgIGxpbmtMaXN0ID0gW29yaWdpblZhbHVlXTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGxpbmtMaXN0ID0gb3JpZ2luVmFsdWU7CiAgICAgICAgICB9CiAgICAgICAgICBjb25zdCBpc051bWJlciA9IHBhcnNlRmxvYXQob3JpZ2luVmFsdWUpID09IG9yaWdpblZhbHVlOwogICAgICAgICAgbGV0IHJlc3VsdCA9IHsKICAgICAgICAgICAgLi4uaXRlbSwKICAgICAgICAgICAgdmFsdWU6IGlzTnVtYmVyID8gdGhpcy5mb3JtYXROdW1iZXIob3JpZ2luVmFsdWUsIDE4KSA6IG9yaWdpblZhbHVlLAogICAgICAgICAgICBsaW5rTGlzdDogbGlua0xpc3QKICAgICAgICAgIH07CiAgICAgICAgICBpZiAoaXRlbS5rZXkgPT09ICJwb3dlciIpIHsKICAgICAgICAgICAgcmVzdWx0LnZhbHVlID0gYCR7b3JpZ2luVmFsdWV9IGJ5dGVzICgke3RoaXMudW5pdENvbnZlcnNpb24oCiAgICAgICAgICAgICAgb3JpZ2luVmFsdWUKICAgICAgICAgICAgKX0pYDsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgfSk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgfQogICAgfQogIH0KfTsK"},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Detail.vue","sourceRoot":"src/views/address","sourcesContent":["<template>\n  <div class=\"address-detail bottom-10\">\n    <overview\n      :dataList=\"dataList\"\n      :dataLabel=\"$t('address.detail.overview')\"\n      class=\"bottom-20\"\n    />\n    <div class=\"worker-list bottom-20\" v-if=\"workers.length\">\n      <span>{{ $t(\"address.detail.worker\") }}</span>\n      <span>\n        <base-link\n          v-for=\"link in workers\"\n          :key=\"link\"\n          :label=\"link\"\n          target=\"address/detail\"\n          :param=\"{\n            key: 'address',\n            value: link\n          }\"\n        ></base-link>\n      </span>\n    </div>\n    <overview\n      :dataList=\"accountList\"\n      :dataLabel=\"$t('address.detail.ownerOverview')\"\n      class=\"bottom-20\"\n      v-if=\"isMiner\"\n    />\n    <el-radio-group\n      v-model=\"showMessage\"\n      style=\"margin-bottom: 20px;\"\n      v-if=\"isMiner || workers.length\"\n    >\n      <el-radio-button :label=\"true\">\n        {{ $t(\"address.radio\")[0] }}\n      </el-radio-button>\n      <el-radio-button :label=\"false\">\n        {{ $t(\"address.radio\")[1] }}\n      </el-radio-button>\n    </el-radio-group>\n    <message-list\n      v-if=\"showMessage\"\n      :address=\"$route.query.address\"\n      type=\"address\"\n    />\n    <block-list v-else :miners=\"address\" />\n  </div>\n</template>\n<script>\nimport { getActorById } from \"@/api/account\";\nimport mixin from \"./mixin\";\nexport default {\n  name: \"AddressDetail\",\n  mixins: [mixin],\n  data() {\n    return {\n      showMessage: true,\n      isMiner: false,\n      isOwner: false,\n      messageData: [],\n      address: \"\",\n      workers: [],\n      dataList: [\n        {\n          key: \"address\"\n        },\n        {\n          key: \"type\"\n        },\n        {\n          key: \"balance\",\n          unit: \"FIL\"\n        },\n        {\n          key: \"code\"\n        },\n        {\n          key: \"nonce\"\n        }\n      ],\n      accountList: [\n        {\n          key: \"owner_address\",\n          isLink: true,\n          target: \"address/detail\",\n          paramKey: \"address\"\n        },\n        {\n          key: \"peer_id\",\n          isLink: true,\n          target: \"stats/peer\"\n        },\n        {\n          key: \"power\"\n        },\n        {\n          key: \"sector_size\",\n          unit: \"bytes\"\n        },\n        {\n          key: \"sector_num\"\n        },\n        {\n          key: \"proving_sector_num\"\n        },\n        {\n          key: \"fault_num\"\n        }\n      ]\n    };\n  },\n  watch: {\n    \"$route.query.address\": {\n      immediate: true,\n      handler(v) {\n        if (!v) {\n          return;\n        }\n        this.address = [v];\n        this.getAddressInfo(v);\n      }\n    }\n  },\n  methods: {\n    async getAddressInfo(a) {\n      try {\n        let res = await getActorById({\n          actor_id: a\n        });\n        const detail = this.parseAddress(res.data);\n        this.dataList = this.dataList.map(item => {\n          return {\n            ...item,\n            value: detail[item.key]\n          };\n        });\n        this.workers = res.work_list;\n        if (res.data.is_miner && res.miner.owner_address != \"\") {\n          this.isMiner = true;\n        } else {\n          this.isMiner = false;\n        }\n        if (res.work_list.length) {\n          this.address = res.work_list;\n        }\n        this.accountList = this.accountList.map(item => {\n          let linkList;\n          const originValue = res.miner[item.key];\n          if (item.key === \"owner_address\" || item.key === \"peer_id\") {\n            linkList = [originValue];\n          } else {\n            linkList = originValue;\n          }\n          const isNumber = parseFloat(originValue) == originValue;\n          let result = {\n            ...item,\n            value: isNumber ? this.formatNumber(originValue, 18) : originValue,\n            linkList: linkList\n          };\n          if (item.key === \"power\") {\n            result.value = `${originValue} bytes (${this.unitConversion(\n              originValue\n            )})`;\n          }\n          return result;\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.address-detail {\n  & ::v-deep .el-radio-group label {\n    display: inline-block;\n    width: 150px;\n    span {\n      width: 100%;\n    }\n  }\n  .worker-list {\n    min-height: 60px;\n    display: flex;\n    background: var(--board-bg-color);\n    box-shadow: 0px 1px 5px 7px rgba(0, 0, 0, 0.03);\n    border-radius: 4px;\n    color: var(--main-text-color);\n    span {\n      line-height: 60px;\n    }\n    span:first-child {\n      padding-left: 100px;\n      min-width: 200px;\n    }\n    span:last-child {\n      flex: 1;\n      word-break: break-all;\n    }\n    & ::v-deep a span {\n      margin-right: 10px;\n    }\n  }\n  @media (max-width: 768px) {\n    .worker-list {\n      box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.03);\n      border-radius: 4px;\n      margin: 10px 0;\n      span {\n        height: 30px;\n        line-height: 30px;\n        &:first-child {\n          margin-right: 10px;\n        }\n        a {\n          margin-right: 5px;\n        }\n      }\n    }\n    & ::v-deep .el-radio-group {\n      display: flex !important;\n      border-radius: 4px !important;\n      label {\n        flex: 1;\n        height: 30px !important;\n        &:first-child span {\n          border-radius: 4px 0 0 4px;\n        }\n        &:last-child span {\n          border-radius: 0 4px 4px 0;\n        }\n        span {\n          height: 100% !important;\n          line-height: 30px !important;\n          padding: 0;\n        }\n      }\n    }\n    & ::v-deep > div:nth-child(2).general-overview {\n      margin: 10px 0 !important;\n    }\n  }\n}\n</style>\n"]}]}