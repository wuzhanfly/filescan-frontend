{"remainingRequest":"/home/wuzhanfly/git/filscan-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wuzhanfly/git/filscan-frontend/src/views/header/Search.vue?vue&type=style&index=0&id=887a0a40&lang=scss&scoped=true&","dependencies":[{"path":"/home/wuzhanfly/git/filscan-frontend/src/views/header/Search.vue","mtime":1612684657988},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wuzhanfly/git/filscan-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmhlYWRlci1zZWFyY2ggewogIGZsZXg6IDE7CiAgLmlucHV0LXdpdGgtc2VsZWN0IHsKICAgICYgOjp2LWRlZXAgIGlucHV0Om50aC1jaGlsZCgyKSB7CiAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJvYXJkLWJnLWNvbG9yKSAhaW1wb3J0YW50OwogICAgICBjb2xvcjogdmFyKC0tbWFpbi10ZXh0LWNvbG9yKTsKICAgIH0KICAgICYuZGFyayA6OnYtZGVlcCBpbnB1dDpudGgtY2hpbGQoMikgewogICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1tYWluLWJnLWNvbG9yKSAhaW1wb3J0YW50OwogICAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50OwogICAgfQogICAgJi5kYXJrIDo6di1kZWVwIC5lbC1pbnB1dC1ncm91cF9fcHJlcGVuZHsKICAgICAgYmFja2dyb3VuZDogdmFyKC0tbWFpbi1iZy1jb2xvcikhaW1wb3J0YW50OwogICAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50OwogICAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCB2YXIoLS1ib2FyZC1iZy1jb2xvcikKICAgIH0KICAgICYuZGFyayA6OnYtZGVlcCAuZWwtaW5wdXQtZ3JvdXBfX2FwcGVuZCB7CiAgICAgIGJhY2tncm91bmQ6IHZhcigtLW1haW4tYmctY29sb3IpIWltcG9ydGFudDsKICAgICAgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudDsKICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCB2YXIoLS1ib2FyZC1iZy1jb2xvcikKICAgIH0KICB9CiAgJiA6OnYtZGVlcCAuZWwtaW5wdXQtZ3JvdXBfX3ByZXBlbmQgewogICAgYmFja2dyb3VuZDogdmFyKC0tYm9hcmQtYmctY29sb3IpICFpbXBvcnRhbnQ7CiAgICAuZWwtc2VsZWN0LnNlYXJjaC1maWx0ZXIgaW5wdXQgewogICAgICB3aWR0aDogMTMwcHg7CiAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7CiAgICB9CiAgfQogICYgOjp2LWRlZXAgLmVsLWlucHV0LWdyb3VwX19hcHBlbmQgewogICAgYmFja2dyb3VuZDogdmFyKC0tYm9hcmQtYmctY29sb3IpICFpbXBvcnRhbnQ7CiAgICBjb2xvcjogdmFyKC0tbWFpbi10ZXh0LWNvbG9yKSAhaW1wb3J0YW50OwogIH0KICAmIDo6di1kZWVwIC5lbC1idXR0b24gewogICAgd2lkdGg6IDcwcHg7CiAgfQogIEBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkgewogICAgJiA6OnYtZGVlcCBpbnB1dCB7CiAgICAgIGhlaWdodDogMzBweCAhaW1wb3J0YW50OwogICAgICBib3JkZXItcmFkaXVzOiAxNXB4ICFpbXBvcnRhbnQ7CiAgICB9CiAgICAmIDo6di1kZWVwIC5lbC1zZWxlY3QgewogICAgICB3aWR0aDogMTAwcHg7CiAgICB9CiAgICAmIDo6di1kZWVwIC5lbC1pbnB1dF9fc3VmZml4IHsKICAgICAgaSB7CiAgICAgICAgbGluZS1oZWlnaHQ6IDIwcHg7CiAgICAgICAgcGFkZGluZy1sZWZ0OiA1cHg7CiAgICAgICAgJi5pcy1yZXZlcnNlIHsKICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDEwcHg7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAmIDo6di1kZWVwIGJ1dHRvbiB7CiAgICAgIHdpZHRoOiA1MHB4ICFpbXBvcnRhbnQ7CiAgICB9CiAgICAubWItYnV0dG9uIC5lbC1idXR0b24gewogICAgICBoZWlnaHQ6IDMwcHg7CiAgICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7CiAgICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7CiAgICAgIG1hcmdpbi10b3A6IDIwcHg7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Search.vue","sourceRoot":"src/views/header","sourcesContent":["<template>\n  <div class=\"header-search\">\n    <el-input\n      :placeholder=\"$t('header.placeholder')\"\n      v-model=\"key\"\n      :class=\"['input-with-select', theme === 'light' ? 'light' : 'dark']\"\n      @keyup.native=\"handleSearch\"\n      :clearable=\"!isMobile\"\n      :suffix-icon=\"loading && !isMobile ? 'el-icon-loading' : ''\"\n    >\n      <el-select\n        v-model=\"filter\"\n        slot=\"prepend\"\n        popper-class=\"filter-select\"\n        v-if=\"!isMobile\"\n        class=\"search-filter\"\n      >\n        <el-option\n          v-for=\"item in $t('header.filter')\"\n          :key=\"item.label\"\n          :label=\"item.label\"\n          :value=\"item.value\"\n        ></el-option>\n      </el-select>\n      <el-button\n        slot=\"append\"\n        icon=\"el-icon-search\"\n        @click.native=\"handleSearch\"\n        v-if=\"!isMobile\"\n      ></el-button>\n    </el-input>\n    <div class=\"mb-button\" v-if=\"isMobile\">\n      <el-button type=\"primary\" @click.native=\"handleSearch\">\n        {{ $t(\"header.mb.search\") }}\n      </el-button>\n    </div>\n  </div>\n</template>\n<script>\nimport { search } from \"@/api/home\";\nexport default {\n  name: \"Search\",\n  data() {\n    return {\n      filter: 0,\n      key: \"\",\n      loading: false\n    };\n  },\n  methods: {\n    goTarget(name, key) {\n      this.goTo(name, {\n        query: {\n          [key]: this.key\n        }\n      });\n    },\n    async handleSearch(e) {\n      /* eslint-disable */\n      this.key = this.key.replace(/[^\b0-9a-zA-Z]/g, \"\");\n\n      if ((e.type === \"keyup\" && e.keyCode !== 13) || !this.key) {\n        return;\n      }\n      try {\n        this.loading = true;\n        let res = await search({\n          key: this.key,\n          filter: this.filter\n        });\n        this.loading = false;\n        const { model_flag } = res;\n        let target = \"\";\n        let key = \"\";\n        switch (model_flag) {\n          case \"block_hash\":\n            target = \"tipset\";\n            key = \"hash\";\n            break;\n          case \"Height\":\n            target = \"tipset\";\n            key = \"height\";\n            break;\n          case \"message_ID\":\n            target = \"messageDetail\";\n            key = \"cid\";\n            break;\n          case \"actor\":\n            target = \"addressDetail\";\n            key = \"address\";\n            break;\n          case \"peer_id\":\n            target = \"peer\";\n            key = \"peer_id\";\n            break;\n          default:\n            target = \"noResult\";\n            key = \"key\";\n        }\n        this.$emit(\"hide\");\n        this.goTarget(target, key);\n      } catch (e) {\n        this.loading = false;\n      }\n    }\n  },\n  watch: {\n    \"$route.path\"() {\n      this.key = \"\";\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.header-search {\n  flex: 1;\n  .input-with-select {\n    & ::v-deep  input:nth-child(2) {\n      background: var(--board-bg-color) !important;\n      color: var(--main-text-color);\n    }\n    &.dark ::v-deep input:nth-child(2) {\n      background: var(--main-bg-color) !important;\n      border-color: transparent;\n    }\n    &.dark ::v-deep .el-input-group__prepend{\n      background: var(--main-bg-color)!important;\n      border-color: transparent;\n      border-right: 1px solid var(--board-bg-color)\n    }\n    &.dark ::v-deep .el-input-group__append {\n      background: var(--main-bg-color)!important;\n      border-color: transparent;\n      border-left: 1px solid var(--board-bg-color)\n    }\n  }\n  & ::v-deep .el-input-group__prepend {\n    background: var(--board-bg-color) !important;\n    .el-select.search-filter input {\n      width: 130px;\n      background: transparent !important;\n    }\n  }\n  & ::v-deep .el-input-group__append {\n    background: var(--board-bg-color) !important;\n    color: var(--main-text-color) !important;\n  }\n  & ::v-deep .el-button {\n    width: 70px;\n  }\n  @media (max-width: 768px) {\n    & ::v-deep input {\n      height: 30px !important;\n      border-radius: 15px !important;\n    }\n    & ::v-deep .el-select {\n      width: 100px;\n    }\n    & ::v-deep .el-input__suffix {\n      i {\n        line-height: 20px;\n        padding-left: 5px;\n        &.is-reverse {\n          padding-right: 10px;\n        }\n      }\n    }\n    & ::v-deep button {\n      width: 50px !important;\n    }\n    .mb-button .el-button {\n      height: 30px;\n      border-radius: 15px;\n      width: 100% !important;\n      margin-top: 20px;\n    }\n  }\n}\n</style>"]}]}